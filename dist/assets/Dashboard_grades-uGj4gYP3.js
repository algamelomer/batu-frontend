import{r as d,c as l,a as t,l as n,H as u,F as i,b as c,k as x,B as w,E as m,o as s,y as p,u as k}from"./index-LWMYTzMc.js";import{u as S}from"./auth-6_PZbXhN.js";const D={class:"relative flex gap-8"},F=t("option",{disabled:"",value:""},"Select Faculty",-1),U=["value"],B=t("option",{disabled:"",value:""},"Select Department",-1),V=["value"],C=t("option",{disabled:"",value:""},"Select academic year",-1),E=["value"],j={class:"flex justify-between px-12"},M=t("label",{for:"bg"},"department grades in excel",-1),A=t("button",{class:"m-auto bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 border border-gray-500 rounded"},"Upload",-1),N={__name:"Dashboard_grades",props:{id:String},setup(G){const g=d(),y=d(),o=d({department_id:"",faculty_id:"",academic_year:"",file:"",user_id:"",id:""}),f=d(),v=r=>{let a="";r.target?a=r.target.value:a=r,f.value=y.value.filter(e=>e.faculty_id==a)},_=r=>{const a=r.target.files[0];o.value.file=a},h=S(),b=d();return(async()=>{try{b.value=await w("user"),o.value.user_id=b.value.authUser.id;const r=await m.get("/api/faculty/");g.value=r.data.data;const a=await m.get("/api/department/");y.value=a.data.departments}catch(r){console.error("Error fetching data:",r)}})(),(r,a)=>(s(),l("form",{class:"w-full px-8 py-4 min-h-screen rounded overflow-hidden shadow-lg bg-gray-700 m-auto flex flex-col gap-4",onSubmit:a[3]||(a[3]=x(e=>k(h).handleGrades(o.value),["prevent"]))},[t("div",D,[n(t("select",{id:"faculty","onUpdate:modelValue":a[0]||(a[0]=e=>o.value.faculty_id=e),onChange:v,class:"block appearance-none w-full bg-gray-400 border border-gray-300 text-gray-900 py-3 px-4 pr-8 rounded-lg focus:outline-none focus:bg-white focus:border-gray-500"},[F,(s(!0),l(i,null,c(g.value,e=>(s(),l("option",{key:e.id,value:e.id},p(e.name),9,U))),128))],544),[[u,o.value.faculty_id]]),n(t("select",{id:"department","onUpdate:modelValue":a[1]||(a[1]=e=>o.value.department_id=e),class:"block appearance-none w-full bg-gray-400 border border-gray-300 text-gray-900 py-3 px-4 pr-8 rounded-lg focus:outline-none focus:bg-white focus:border-gray-500"},[B,(s(!0),l(i,null,c(f.value,e=>(s(),l("option",{key:e.id,value:e.id},p(e.name),9,V))),128))],512),[[u,o.value.department_id]])]),n(t("select",{id:"academic_year","onUpdate:modelValue":a[2]||(a[2]=e=>o.value.academic_year=e),class:"block appearance-none w-full bg-gray-400 border border-gray-300 text-gray-900 py-3 px-4 pr-8 rounded-lg focus:outline-none focus:bg-white focus:border-gray-500"},[C,(s(),l(i,null,c(4,e=>t("option",{key:e,value:e},p(e),9,E)),64))],512),[[u,o.value.academic_year]]),t("div",j,[M,t("input",{id:"bg",type:"file",onChange:_,class:"block w-3/4 text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400"},null,32)]),A],32))}};export{N as default};
